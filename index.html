<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fetch API - User Data</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>Users Data (Fetch API)</h1>
        <button id="reloadBtn">Reload Data</button>
        <div id="loading" class="loading">Loading users...</div>
        <div id="error" class="error"></div>
        <div id="userContainer" class="user-container"></div>
    </div>
    <script>
        const userContainer = document.getElementById("userContainer");
        const reloadBtn = document.getElementById("reloadBtn");
        const errorDiv = document.getElementById("error");
        const loadingDiv = document.getElementById("loading");
        async function fetchUsers() {
            userContainer.innerHTML = "";
            errorDiv.textContent = "";
            loadingDiv.style.display = "block";
            try {
                const response = await fetch("https://jsonplaceholder.typicode.com/users");
                if (!response.ok) {
                    throw new Error("Network response was not ok");
                }
                const users = await response.json();
                loadingDiv.style.display = "none";
                users.forEach(user => {
                    const userCard = document.createElement("div");
                    userCard.classList.add("user-card");
                    userCard.innerHTML = `
                        <h3>${user.name}</h3>
                        <p><strong>Email:</strong> ${user.email}</p>
                        <p><strong>Address:</strong> 
                        ${user.address.street}, 
                        ${user.address.city}</p>
                    `;
                    userContainer.appendChild(userCard);
                });
            } catch (error) {
                loadingDiv.style.display = "none";
                errorDiv.textContent = "Error fetching data. Please check your internet connection.";
                console.error("Fetch error:", error);
            }
        }
        fetchUsers();
        reloadBtn.addEventListener("click", fetchUsers);
    </script>
</body>
</html>